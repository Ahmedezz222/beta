<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="Premium bicycles for every adventure. Discover quality bikes at Bike Store.">
    <meta name="keywords" content="bikes, bicycles, cycling, mountain bikes, road bikes">
    <meta name="author" content="Bike Store">
    <title>{{ page_title }} - Bike Store</title>
    {{ content_for_header }}
    <link rel="stylesheet" href="{{ 'theme.css' | asset_url }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    {% section 'header' %}
    <main role="main">
      {{ content_for_layout }}
    </main>
    {% section 'footer' %}
    
    <script>
      // Mobile Menu Functionality
      document.addEventListener('DOMContentLoaded', function() {
        const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
        const mobileNav = document.querySelector('.mobile-nav');
        const body = document.body;
        
        if (mobileMenuToggle && mobileNav) {
          mobileMenuToggle.addEventListener('click', function() {
            const isActive = mobileNav.classList.contains('active');
            
            // Toggle menu
            mobileNav.classList.toggle('active');
            mobileMenuToggle.classList.toggle('active');
            mobileMenuToggle.setAttribute('aria-expanded', !isActive);
            
            // Prevent body scroll when menu is open
            if (!isActive) {
              body.style.overflow = 'hidden';
            } else {
              body.style.overflow = '';
            }
          });
          
          // Close menu when clicking on a link
          const mobileNavLinks = mobileNav.querySelectorAll('.mobile-nav-link');
          mobileNavLinks.forEach(link => {
            link.addEventListener('click', function() {
              mobileNav.classList.remove('active');
              mobileMenuToggle.classList.remove('active');
              mobileMenuToggle.setAttribute('aria-expanded', 'false');
              body.style.overflow = '';
            });
          });
          
          // Close menu when clicking outside
          mobileNav.addEventListener('click', function(e) {
            if (e.target === mobileNav) {
              mobileNav.classList.remove('active');
              mobileMenuToggle.classList.remove('active');
              mobileMenuToggle.setAttribute('aria-expanded', 'false');
              body.style.overflow = '';
            }
          });
          
          // Close menu on escape key
          document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && mobileNav.classList.contains('active')) {
              mobileNav.classList.remove('active');
              mobileMenuToggle.classList.remove('active');
              mobileMenuToggle.setAttribute('aria-expanded', 'false');
              body.style.overflow = '';
            }
          });
        }
      });
    </script>
  </body>
</html>

